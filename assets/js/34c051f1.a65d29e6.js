"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[486],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(n),h=o,m=c["".concat(s,".").concat(h)]||c[h]||u[h]||r;return n?a.createElement(m,i(i({ref:t},d),{},{components:n})):a.createElement(m,i({ref:t},d))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},61148:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>p,toc:()=>d});var a=n(87462),o=n(63366),r=(n(67294),n(3905)),i=["components"],l={id:"EMGpiano",title:"EMG-controlled Piano"},s=void 0,p={unversionedId:"Examples/EMGProjects/EMGpiano",id:"Examples/EMGProjects/EMGpiano",title:"EMG-controlled Piano",description:"In this tutorial, we will show you how to play the piano using just the EMG signals from your fingers! To do that, we will read EMG data from the muscles joining your fingers to your arms and find the peaks which correspond to pressing a key on a piano, using them as a trigger to play a virtual keyboard.",source:"@site/docs/Examples/EMGProjects/EMG_Controlled_Piano.md",sourceDirName:"Examples/EMGProjects",slug:"/Examples/EMGProjects/EMGpiano",permalink:"/Examples/EMGProjects/EMGpiano",editUrl:"https://github.com/OpenBCI/Documentation/edit/master/website/docs/Examples/EMGProjects/EMG_Controlled_Piano.md",tags:[],version:"current",lastUpdatedAt:1660942438,formattedLastUpdatedAt:"8/19/2022",frontMatter:{id:"EMGpiano",title:"EMG-controlled Piano"},sidebar:"docs",previous:{title:"EMG-controlled Tetris",permalink:"/Examples/EMGProjects/EMG_Tetris"},next:{title:"Send Focus Data from GUI to Arduino",permalink:"/Examples/EEGProjects/FocusArduino"}},d=[{value:"Materials Required",id:"materials-required",children:[],level:2},{value:"Step 1: Hardware Assembly",id:"step-1-hardware-assembly",children:[],level:2},{value:"Step 2: Software Setup",id:"step-2-software-setup",children:[],level:2},{value:"Step 3: Stream data using the OpenBCI GUI",id:"step-3-stream-data-using-the-openbci-gui",children:[],level:2},{value:"Step 4: Using a Python Script to Read the Data and Play",id:"step-4-using-a-python-script-to-read-the-data-and-play",children:[],level:2}],c={toc:d},u="wrapper";function h(e){var t=e.components,l=(0,o.Z)(e,i);return(0,r.kt)(u,(0,a.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In this tutorial, we will show you how to play the piano using just the EMG signals from your fingers! To do that, we will read EMG data from the muscles joining your fingers to your arms and find the peaks which correspond to pressing a key on a piano, using them as a trigger to play a virtual keyboard."),(0,r.kt)("p",null," Check out an example video of this tutorial being put into action!"),(0,r.kt)("p",null," ",(0,r.kt)("a",{parentName:"p",href:"https://youtu.be/-eaO98mhO5M"},(0,r.kt)("img",{alt:"EMG Piano Tutorial",src:n(38334).Z}))),(0,r.kt)("h2",{id:"materials-required"},"Materials Required"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"OpenBCI ",(0,r.kt)("a",{parentName:"li",href:"https://shop.openbci.com/collections/frontpage/products/cyton-biosensing-board-8-channel?variant=38958638542"},"Cyton Board")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://shop.openbci.com/collections/frontpage/products/skintact-f301-pediatric-foam-solid-gel-electrodes-30-pack?variant=29467659395"},"Skintact sticky electrodes")," or ",(0,r.kt)("a",{parentName:"li",href:"https://shop.openbci.com/collections/frontpage/products/idun-dryode-kit"},"IDUN Dryode")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://shop.openbci.com/collections/frontpage/products/emg-ecg-snap-electrode-cables?variant=32372786958"},"EMG/ECG Snap Electrode Cables")),(0,r.kt)("li",{parentName:"ol"},"Computer with downloaded OpenBCI ",(0,r.kt)("a",{parentName:"li",href:"/Software/OpenBCISoftware/GUIDocs"},"GUI"))),(0,r.kt)("h2",{id:"step-1-hardware-assembly"},"Step 1: Hardware Assembly"),(0,r.kt)("p",null,"Follow the EMG Getting Started ",(0,r.kt)("a",{parentName:"p",href:"/GettingStarted/Biosensing-Setups/EMGSetup"},"tutorial")," on this link to connect the electrodes to your body and the Cyton board, and read data from it using the OpenBCI GUI. For this tutorial, 4 channels are used: Channel 1 = right pinky, Channel 2 = right pointer, Channel 3 = left pointer, Channel 4 = left pinky. Only one ground is needed."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Important"),": The most complicated part of this tutorial can be finding the right placement for each set of electrodes. The diagram seen below should work well universally, but feel free to mess around with the placement a bit to find where the most prominent flexes occur along your arms."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Electrode Placement Diagram",src:n(27495).Z})),(0,r.kt)("h2",{id:"step-2-software-setup"},"Step 2: Software Setup"),(0,r.kt)("p",null,"Download and install ",(0,r.kt)("a",{parentName:"p",href:"https://www.python.org/downloads/"},"Python")," (either version 2 or 3). Python might already be installed on your computer. Type python --version to check if you have Python version 2 or 3 installed. To use this program, you need the following Python packages installed:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"pylsl"),": use ",(0,r.kt)("inlineCode",{parentName:"li"},"python -m pip install pylsl")," from the Python folder in the command line to install it."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"pyautogui")," : use ",(0,r.kt)("inlineCode",{parentName:"li"},"python -m pip install pyautogui")," to install.")),(0,r.kt)("h2",{id:"step-3-stream-data-using-the-openbci-gui"},"Step 3: Stream data using the OpenBCI GUI"),(0,r.kt)("p",null,"Follow the networking ",(0,r.kt)("a",{parentName:"p",href:"/Software/OpenBCISoftware/GUIWidgets#Networking"},"tutorial")," on this link to learn how to stream data using LSL from the GUI. For this project, you will need to stream the EMG data from Channels 1-4 using the Networking Widget. Your Networking settings should look as follows:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSL Networking Widget Screenshot",src:n(1297).Z})),(0,r.kt)("p",null," ",(0,r.kt)("strong",{parentName:"p"},"Important"),": Make sure your EMG widget is open before you start streaming."),(0,r.kt)("h2",{id:"step-4-using-a-python-script-to-read-the-data-and-play"},"Step 4: Using a Python Script to Read the Data and Play"),(0,r.kt)("p",null,"The Python script will search for an EMG data stream. Once it finds the stream it will read it and detect any spikes that correspond to finger flex. If a flex is detected and 1 second has passed since the last flex, it will press a certain key, which will play a certain note on a virtual keyboard. The threshold for the time between flexes can be modified as needed to avoid debouncing."),(0,r.kt)("p",null,"Get the Python script from ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/OpenBCI/OpenBCI_Tutorials/tree/master/EMG_Controlled_Piano"},"here")," by clicking on \u2018Raw\u2019 and copying it to a .py file in your Python folder. Once you\u2019re streaming data from the GUI, go to the Python folder from your command line by using the cd command, and run it using ",(0,r.kt)("inlineCode",{parentName:"p"},"python <script_name>.py")),(0,r.kt)("p",null,"Open a virtual keyboard; we used ",(0,r.kt)("a",{parentName:"p",href:"https://www.onlinepianist.com/virtual-piano"},"this one"),". Every time you move one of your fingers, it will play certain notes. By modifying the time_thres, pointer_thres, and pinky_thres parameters in the code, you can adjust the time to wait between finger movements and the strength of each movement to your needs. "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," The pointer finger flex can be slightly weaker, so the script establishes separate thresholds for the pointer fingers and the pinkies."),(0,r.kt)("p",null,"The script codes for 4 different notes to play, each designated to one finger: G4 = right pinky, E4 = right pointer, D4 = left pointer, C4 = left pinky. To play Mary Had a Little Lamb, use the following guide in terms of Channels: "),(0,r.kt)("p",null,"2 , 3 , 4 , 3 , 2 , 2 , 2 , 3 , 3 , 3 , 2 , 1 , 1 , 2 , 3 , 4 , 3 , 2 , 2 , 2 , 2 , 3 , 3 , 2 , 3 , 4 "),(0,r.kt)("p",null,"Try it out and send us a video of your final prototype!"))}h.isMDXComponent=!0},38334:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/EMG-piano-full-screen-8ef1fa5a83ce6fdd0971e0e7b27d979a.png"},27495:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/EMGdiagram-ea63d7639f1f7635ea60fd9482cc740a.png"},1297:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/LSL-ss-67920efe5cd7743958f1c36ada86bb00.png"}}]);