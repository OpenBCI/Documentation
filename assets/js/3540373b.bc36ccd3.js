"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6146],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=p(n),u=r,h=c["".concat(s,".").concat(u)]||c[u]||d[u]||o;return n?a.createElement(h,l(l({ref:t},m),{},{components:n})):a.createElement(h,l({ref:t},m))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},99977:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>p,toc:()=>c});var a=n(87462),r=n(63366),o=(n(67294),n(3905)),l=["components"],i={id:"GanglionSDK",title:"Ganglion SDK"},s=void 0,p={unversionedId:"Ganglion/GanglionSDK",id:"Ganglion/GanglionSDK",title:"Ganglion SDK",description:"The OpenBCI boards communicate using a byte string (mostly ASCII) command protocol. This Doc covers command use for the OpenBCI Ganglion. Further this Doc covers the commands needed in order to alter the radio system. There have been several iterations of the firmware. Please send reset commands to your board to see what firmware you have if you're unsure.",source:"@site/docs/Ganglion/06-OpenBCI_Ganglion_SDK.md",sourceDirName:"Ganglion",slug:"/Ganglion/GanglionSDK",permalink:"/Ganglion/GanglionSDK",draft:!1,editUrl:"https://github.com/OpenBCI/Documentation/edit/master/website/docs/Ganglion/06-OpenBCI_Ganglion_SDK.md",tags:[],version:"current",lastUpdatedAt:1684276618,formattedLastUpdatedAt:"May 16, 2023",sidebarPosition:6,frontMatter:{id:"GanglionSDK",title:"Ganglion SDK"},sidebar:"docs",previous:{title:"Ganglion Data Format",permalink:"/Ganglion/GanglionDataFormat"},next:{title:"Ganglion Programming Tutorial",permalink:"/Ganglion/GanglionProgram"}},m={},c=[{value:"Ganglion Command Protocol Overview",id:"ganglion-command-protocol-overview",level:2},{value:"Command Set",id:"command-set",level:2},{value:"Turn Channels OFF",id:"turn-channels-off",level:3},{value:"Turn Channels ON",id:"turn-channels-on",level:3},{value:"Synthetic Square Wave ON",id:"synthetic-square-wave-on",level:3},{value:"Synthetic Square Wave OFF",id:"synthetic-square-wave-off",level:3},{value:"LeadOff Impedance",id:"leadoff-impedance",level:3},{value:"Accelerometer",id:"accelerometer",level:3},{value:"Stream Data Commands",id:"stream-data-commands",level:3},{value:"Miscellaneous",id:"miscellaneous",level:3},{value:"Firmware v2.x.x New Commands",id:"firmware-v2xx-new-commands",level:2},{value:"Sample Rate",id:"sample-rate",level:3},{value:"Wifi Shield Commands",id:"wifi-shield-commands",level:3},{value:"Unused ASCII Characters",id:"unused-ascii-characters",level:2}],d={toc:c},u="wrapper";function h(e){var t=e.components,n=(0,r.Z)(e,l);return(0,o.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The OpenBCI boards communicate using a byte string (mostly ASCII) command protocol. This Doc covers command use for the OpenBCI Ganglion. Further this Doc covers the commands needed in order to alter the radio system. There have been several iterations of the firmware. Please send reset commands to your board to see what firmware you have if you're unsure."),(0,o.kt)("h2",{id:"ganglion-command-protocol-overview"},"Ganglion Command Protocol Overview"),(0,o.kt)("p",null,"Ganglion boards have a powerful micro-controller on board that comes pre-programmed with the firmware. The Simblee radio link uses the Nordic Gazelle stack and library along with a BLE stack. The micro-controller has been programmed with firmware that interfaces between the MCP (Analog Front End) and LIS3DH (Accelerometer). The user, or application, controls the board by sending commands over a wireless serial connection."),(0,o.kt)("p",null,"On startup, the OpenBCI Ganglion board sends the following text over the radio:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"\nOpenBCI Ganglion v2.0.0\nLIS2DH ID: 0x33\nMCP3912 CONFIG_1: 0xXX\n\n")),(0,o.kt)("h2",{id:"command-set"},"Command Set"),(0,o.kt)("h3",{id:"turn-channels-off"},"Turn Channels OFF"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"1 2 3 4"),(0,o.kt)("br",{parentName:"p"}),"\n","These ASCII characters turn the respective channels ","[1-4]"," off. The channel will read 0.00 when off during streamData mode. These commands work in and out of streamData mode."),(0,o.kt)("h3",{id:"turn-channels-on"},"Turn Channels ON"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"! @ # $"),(0,o.kt)("br",{parentName:"p"}),"\n","These ASCII characters turn the respective channels ","[1-4]"," on. The channel will read ADC output values during streamData mode. These commands work in and out of streamData mode."),(0,o.kt)("h3",{id:"synthetic-square-wave-on"},"Synthetic Square Wave ON"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"["),(0,o.kt)("br",{parentName:"p"}),"\n","Turn on and generate a fake square wave signal."),(0,o.kt)("h3",{id:"synthetic-square-wave-off"},"Synthetic Square Wave OFF"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"]"),(0,o.kt)("br",{parentName:"p"}),"\n","Turn off and generate a fake square wave signal."),(0,o.kt)("h3",{id:"leadoff-impedance"},"LeadOff Impedance"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"z"),(0,o.kt)("br",{parentName:"p"}),"\n","Start an impedance test, will send back impedance packets!"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Z"),(0,o.kt)("br",{parentName:"p"}),"\n","Stop an impedance test."),(0,o.kt)("h3",{id:"accelerometer"},"Accelerometer"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"n"),(0,o.kt)("br",{parentName:"p"}),"\n","Start accelerometer which results in 18-bit delta compression of channel data."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"N"),(0,o.kt)("br",{parentName:"p"}),"\n","Stop accelerometer which results in 19-bit delta compression of channel data."),(0,o.kt)("h3",{id:"stream-data-commands"},"Stream Data Commands"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"b"),(0,o.kt)("br",{parentName:"p"}),"\n","Start streaming data"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"s"),(0,o.kt)("br",{parentName:"p"}),"\n","Stop Streaming data"),(0,o.kt)("h3",{id:"miscellaneous"},"Miscellaneous"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"?"),(0,o.kt)("br",{parentName:"p"}),"\n","Query register settings",(0,o.kt)("br",{parentName:"p"}),"\n","Read and report all register settings for the MCP and the LIS3DH. Expect to get a verbose serial output from the OpenBCI Board."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"v"),"\nSoft reset for the Board peripherals."),(0,o.kt)("h2",{id:"firmware-v2xx-new-commands"},"Firmware v2.x.x New Commands"),(0,o.kt)("p",null,"Supporting all v1.0.0, the v2.0.0 firmware extends the OpenBCI Ganglion system to allow for a variable sample rate."),(0,o.kt)("h3",{id:"sample-rate"},"Sample Rate"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"~(COMMAND)"),(0,o.kt)("br",{parentName:"p"}),"\n","This works similar to the Channel Settings commands, however, there is no latching character. Power cycling the OpenBCI Ganglion board will cause the sample rate to reset back to default of 200Hz."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"IMPORTANT!")," The Ganglion cannot and will not stream data over 200SPS. Plug in the wifi shield to get speeds over 200SPS streaming."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"COMMAND")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"0 = 25600 Hz"),(0,o.kt)("li",{parentName:"ul"},"1 = 12800 Hz"),(0,o.kt)("li",{parentName:"ul"},"2 = 6400 Hz"),(0,o.kt)("li",{parentName:"ul"},"3 = 3200 Hz"),(0,o.kt)("li",{parentName:"ul"},"4 = 1600 Hz"),(0,o.kt)("li",{parentName:"ul"},"5 = 800 Hz"),(0,o.kt)("li",{parentName:"ul"},"6 = 400 Hz"),(0,o.kt)("li",{parentName:"ul"},"7 = 200 Hz"),(0,o.kt)("li",{parentName:"ul"},"~ = Get current sample rate")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"EXAMPLE")),(0,o.kt)("p",null,"First, user sends ",(0,o.kt)("strong",{parentName:"p"},"~","~")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"returns")," ",(0,o.kt)("inlineCode",{parentName:"p"},"Sample rate is 200Hz")),(0,o.kt)("p",null,"Then, user sends ",(0,o.kt)("strong",{parentName:"p"},"~5")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"returns")," ",(0,o.kt)("inlineCode",{parentName:"p"},"Sample rate set to 800Hz$$$")),(0,o.kt)("h3",{id:"wifi-shield-commands"},"Wifi Shield Commands"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},'{"{"}')),(0,o.kt)("p",null,"Try to attach a Wifi Shield"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"returns")," Success will send response ",(0,o.kt)("inlineCode",{parentName:"p"},"Success: Wifi attached$$$")," on failure response will be ",(0,o.kt)("inlineCode",{parentName:"p"},"Failure: Wifi not attached$$$"),". Failure happens when the wifi shield is not powered up or the wifi shield does not power correctly. Try power cycling the system if failure continues."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},'{"}"}')),(0,o.kt)("p",null,"Remove an attached wifi shield."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"returns")," Success will send response ",(0,o.kt)("inlineCode",{parentName:"p"},"Success: Wifi removed$$$")," on failure response will be ",(0,o.kt)("inlineCode",{parentName:"p"},"Failure: Wifi not removed$$$"),". Failure occurs when no wifi shield is present to remove."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},":")),(0,o.kt)("p",null,"Get the status of the wifi shield, will either be connected or not connected."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"returns")," With wifi shield successfully attached will send response ",(0,o.kt)("inlineCode",{parentName:"p"},"Wifi present$$$"),". If there is no OpenBCI board attached, will send ",(0,o.kt)("inlineCode",{parentName:"p"},"Wifi not present, send { to attach the shield$$$"),"."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},";")),(0,o.kt)("p",null,"Perform a soft reset of the Wifi shield. Will do a power on reset of just the wifi shield."),(0,o.kt)("h2",{id:"unused-ascii-characters"},"Unused ASCII Characters"),(0,o.kt)("p",null,"These are currently unused (and user available) characters in the OpenBCI Ganglion platform:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"a A B c C d D e E f F g G h H i I j J k K l L m M o O p P q Q r R S t T u U V w W x X y Y ","`"," 5 6 7 8 9 0 % ^ & ","*"," ( ) - ","_",' {"{"} {"}"} ',"[ ]"," ; : ' \" , . / ","\\"," | (space)")))}h.isMDXComponent=!0}}]);