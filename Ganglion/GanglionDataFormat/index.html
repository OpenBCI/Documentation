<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Ganglion/GanglionDataFormat" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Ganglion Data Format | OpenBCI Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://openbci.github.io/Documentation/img/UC-production-1140x424.jpg"><meta data-rh="true" name="twitter:image" content="https://openbci.github.io/Documentation/img/UC-production-1140x424.jpg"><meta data-rh="true" property="og:url" content="https://openbci.github.io/Ganglion/GanglionDataFormat/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="thumbnail" content="https://docs.openbci.com/img/openbci-logo-web.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ganglion Data Format | OpenBCI Documentation"><meta data-rh="true" name="description" content="This discussion of the OpenBCI data format only applies to the OpenBCI Ganglion. The Ganglion contains a Simblee microcontroller that can both be programmed through the Arduino IDE or over-the-air (OTA). The Simblee has an on-board radio module. The format of the Ganglion data as seen on the PC is defined by a combination of the Arduino code on the Ganglion board and software on your computer."><meta data-rh="true" property="og:description" content="This discussion of the OpenBCI data format only applies to the OpenBCI Ganglion. The Ganglion contains a Simblee microcontroller that can both be programmed through the Arduino IDE or over-the-air (OTA). The Simblee has an on-board radio module. The format of the Ganglion data as seen on the PC is defined by a combination of the Arduino code on the Ganglion board and software on your computer."><link data-rh="true" rel="icon" href="/img/favicon_large.ico"><link data-rh="true" rel="canonical" href="https://openbci.github.io/Ganglion/GanglionDataFormat/"><link data-rh="true" rel="alternate" href="https://openbci.github.io/Ganglion/GanglionDataFormat/" hreflang="en"><link data-rh="true" rel="alternate" href="https://openbci.github.io/Ganglion/GanglionDataFormat/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OpenBCI Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OpenBCI Documentation Atom Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-5MNP6L3Q",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="OpenBCI Documentation" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/assets/css/styles.df5f45bc.css">
<link rel="preload" href="/assets/js/runtime~main.5811ae00.js" as="script">
<link rel="preload" href="/assets/js/main.a5d650aa.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5MNP6L3Q" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/open-bci-gear.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/open-bci-gear.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OpenBCI Documentation</b></a></div><div class="navbar__items navbar__items--right"><a href="https://openbci.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Main Site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://shop.openbci.com/collections/frontpage" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Shop<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://openbci.com/forum/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a><a href="https://github.com/OpenBCI" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/citations/">Citations</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/">Welcome to OpenBCI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/FAQ/FAQLanding/">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/GettingStarted/GettingStartedLanding/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Cyton/CytonLanding/">Cyton Board</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/Ganglion/GanglionLanding/">Ganglion Board</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ganglion/GanglionLanding/">Ganglion Board</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ganglion/GanglionSpecs/">Ganglion Specs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Ganglion/GanglionDataFormat/">Ganglion Data Format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ganglion/GanglionSDK/">Ganglion SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ganglion/GanglionProgram/">Ganglion Programming Tutorial</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/AddOns/AddOnLanding/">Headwear &amp; Electrodes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ThirdParty/ThirdPartyLanding/">Third-Party Hardware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Software/SoftwareLanding/">Software</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ForDevelopers/ForDevelopersLanding/">For Developers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Deprecated/DeprecatedLanding/">Deprecated Documents</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Troubleshooting/TroubleshootingLanding/">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Examples/ExamplesLanding/">Example Projects</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Ganglion Board</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ganglion Data Format</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ganglion Data Format</h1></header><p>This discussion of the OpenBCI data format only applies to the OpenBCI Ganglion. The Ganglion contains a Simblee microcontroller that can both be programmed through the Arduino IDE or over-the-air (OTA). The Simblee has an on-board radio module. The format of the Ganglion data as seen on the PC is defined by a combination of the Arduino code on the Ganglion board and software on your computer.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="standard-bluetooth-4n-ble-setup">Standard Bluetooth 4.n BLE Setup<a href="#standard-bluetooth-4n-ble-setup" class="hash-link" aria-label="Direct link to Standard Bluetooth 4.n BLE Setup" title="Direct link to Standard Bluetooth 4.n BLE Setup">​</a></h2><p>OpenBCI Ganglion uses a standard Bluetooth 4.n (BLE) connection. Allowing connection to any BLE compatible device!</p><p>All BLE devices have specific <em>Service</em>, <em>Receive</em>, <em>Send</em>, and <em>Disconnect</em>, the ones for Simblee are:  </p><table><thead><tr><th>Service</th><th>Value</th></tr></thead><tbody><tr><td><strong>Service</strong></td><td><code>fe84</code></td></tr><tr><td><strong>Receive</strong></td><td><code>2d30c082f39f4ce6923f3484ea480596</code></td></tr><tr><td><strong>Send</strong></td><td><code>2d30c083f39f4ce6923f3484ea480596</code></td></tr><tr><td><strong>Disconnect</strong></td><td><code>2d30c084f39f4ce6923f3484ea480596</code></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="startup">Startup<a href="#startup" class="hash-link" aria-label="Direct link to Startup" title="Direct link to Startup">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ganglion-board"><strong>Ganglion Board</strong><a href="#ganglion-board" class="hash-link" aria-label="Direct link to ganglion-board" title="Direct link to ganglion-board">​</a></h3><p>The Ganglion does go through a reset cycle when its BLE connection is opened. Because of this, it&#x27;s <em>NOT</em> possible to connect/disconnect from the Ganglion mid stream.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="initiating-binary-transfer">Initiating Binary Transfer<a href="#initiating-binary-transfer" class="hash-link" aria-label="Direct link to Initiating Binary Transfer" title="Direct link to Initiating Binary Transfer">​</a></h2><p>Once the Ganglion has initialized itself with a BLE connection it waits for commands. It sends no data until it is told to start sending data. To begin data transfer, transmit a single ASCII <code>b</code>. Once the <code>b</code> is received, continuous transfer of data in binary format will ensue. To turn off the fire hose, send an <code>s</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="binary-format">Binary Format<a href="#binary-format" class="hash-link" aria-label="Direct link to Binary Format" title="Direct link to Binary Format">​</a></h2><p>Each packet contains a Byte ID followed by 19-bytes of data for a grand total of 20-bytes. The Byte ID determines how the receiving software or driver should parse the following 19-bytes of data. The Ganglion board samples biosignals at 200Hz, but the BLE radio is only capable of sending 20-byte packets at a rate of 100Hz. To overcome this limitation we only send the most significant bits of each Ganglion ExG (EEG, EMG, ECG) sample.</p><p>The Ganglion ExG data samples are 24-bit signed (2&#x27;s complement), MSB first. If we did not compress the data, we could only fit one sample on each BLE packet because 24-bits is 3-bytes times 4 samples for each channel comes to 12-bytes, which would lead to a max sample rate of 100Hz (remember upper limit of consistent BLE transmission is somewhere around 100 packets per second). Therefore we aimed to get two samples per packet, which gives a real time 200Hz streaming sample rate.</p><p>The cost of this transmission strategy is a reduction in sample resolution, but this reduction is small. In the worst case scenario, only 18 bits of each 24-bit sample can be sent. This means that 6 bits of the sample are lost. This may seem problematic, but it&#x27;s important to consider how the raw integer values sampled by the device convert into voltages. Each integer value corresponds to <code>0.001869917138805 uV</code> (see the <a href="#interpreting-the-eeg-data">Interpreting the ExG Data</a> section for more details). The lost 6 bits of information hold the least significant, or smallest, portion of the sample. In the worst case, the sample will be off by 2^6 = 64. Converting this to volts shows that, at worst, we lose <code>64 * 0.001869917138805 uV = 0.11967469688352 uV</code> of resolution. In most applications, variations below 0.2 uV will be the result of environmental noise and no meaningful data will be lost.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sample-transmission">Sample Transmission<a href="#sample-transmission" class="hash-link" aria-label="Direct link to Sample Transmission" title="Direct link to Sample Transmission">​</a></h3><p>We send ExG samples using either 19 bits or 18 bits. By default, 19-bit samples are sent. When the accelerometer or auxiliary features of the board are used, 18-bit samples are sent to provide room for the accelerometer or auxiliary data in the packet. Different packet ID ranges are used for 19-bit samples and 18-bit samples. This way, the controlling software that is running the decompression algorithm can decompress each packet without having to &#x27;know&#x27; what state the system is in.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Both the 18-bit and 19-bit transmission strategies store the signed bit in the <code>bit 0</code> or LSB position!</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="19-bit-sample-transmission">19-bit Sample Transmission<a href="#19-bit-sample-transmission" class="hash-link" aria-label="Direct link to 19-bit Sample Transmission" title="Direct link to 19-bit Sample Transmission">​</a></h3><p><img loading="lazy" alt="19bit Packet Map" src="/assets/images/ganglion_19bit-packet-map-dc5abec9c3a78dcd09086a595cd734d3.png" width="350" height="463" class="img_ev3q"></p><p>By default we use 19-bit sample transmission. In this strategy, the 19 MSBs of each sample are sent. Each packet sent with the 19-bit transmission strategy uses a Packet ID in the range of <!-- -->[100-199]<!-- --> (inclusive).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="18bit-compression">18bit Compression<a href="#18bit-compression" class="hash-link" aria-label="Direct link to 18bit Compression" title="Direct link to 18bit Compression">​</a></h3><p><img loading="lazy" alt="18bit Packet Map" src="/assets/images/ganglion_18bit-packet-map-f88498155ebe23abc3b4f39e46cbcfe2.png" width="350" height="463" class="img_ev3q"></p><p>When the accelerometer or auxiliary features of the board are used, we use 18-bit sample transmission. Each packet sent with the 18-bit transmission strategy uses a Packet ID in the range of <!-- -->[0-99]<!-- --> (inclusive).</p><p>When the accelerometer is running, the default accelerometer sample rate is 10Hz. The Ganglion will acquire the accelerometer data whenever it is ready, but it will only send the values when packets with specific IDs are sent. For example, x-axis samples are sent every 1st, 11th, ..., and 91st sample. Similarly, y-axis samples are sent every 2nd, 12th, ..., and 92nd sample. See the below code for the full implementation.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">void OpenBCI_Ganglion::sendCompressedPacket18() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      radioBuffer[0] = ringBufferLevel;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      for (int i = 0; i &lt; 18; i++) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        radioBuffer[i+1] = compression_ring[ringBufferLevel][i];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      if(useAccel){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if(ringBufferLevel%10 == 1){ radioBuffer[19] = axisData[0]; }  // x axis</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if(ringBufferLevel%10 == 2){ radioBuffer[19] = axisData[1]; }  // y axis</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if(ringBufferLevel%10 == 3){ radioBuffer[19] = axisData[2]; }  // z axis</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      } else if(useAux){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if(ringBufferLevel%10 == 1){ radioBuffer[19] = auxData[0]; }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if(ringBufferLevel%10 == 2){ radioBuffer[19] = auxData[1]; }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if(ringBufferLevel%10 == 3){ radioBuffer[19] = auxData[2]; }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ringBufferLevel++;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      if (BLEconnected) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        SimbleeBLE.send(radioBuffer, 20);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The Ganglion also has the capacity to send user defined <code>auxData</code> in the place of accelerometer data.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>An <code>n</code> ASCII command is used to turn on the Ganglion accelerometer. Use an <code>N</code> to turn off the accelerometer.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impedance-testing">Impedance Testing<a href="#impedance-testing" class="hash-link" aria-label="Direct link to Impedance Testing" title="Direct link to Impedance Testing">​</a></h2><p>The Ganglion has hardware in place that allows for testing the impedance of the electrode/skin contact. In order to do this, the controlling software uses the ASCII control bytes <code>z</code> to start impedance test and <code>Z</code> to stop impedance test. During impedance testing, the data stream is turned off. The Ganglion will send impedance values of all the channels, 1 to 4, and the <code>REF</code> input in series over and over until it receives a <code>Z</code>. The <code>Packet ID</code> values are listed in the chart below. The impedance data is sent as an ASCII string representing the measured value in ohms.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="verbose-prints">Verbose Prints<a href="#verbose-prints" class="hash-link" aria-label="Direct link to Verbose Prints" title="Direct link to Verbose Prints">​</a></h2><p>The Ganglion will sometimes send verbose data over the BLE connection. In this case, Ganglion can send from 1 to many packets of verbose ASCII data. The <code>Packet ID</code> for ASCII messaging will inform the computer if the message is not done and it should expect another packet <code>206</code> or <code>0xCE</code>. When Ganglion is sending the last ASCII message packet, the <code>Packet ID</code> will be <code>207</code> or <code>0xCF</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="packet-id-cheat-sheet">Packet ID Cheat Sheet<a href="#packet-id-cheat-sheet" class="hash-link" aria-label="Direct link to Packet ID Cheat Sheet" title="Direct link to Packet ID Cheat Sheet">​</a></h2><table><thead><tr><th>Byte ID Decimal</th><th>Byte ID HEX</th><th>Data Type</th><th>Description</th></tr></thead><tbody><tr><td><code>0</code></td><td><code>00</code></td><td><code>24bit</code></td><td>Raw uncompressed</td></tr><tr><td><code>1</code>-<code>100</code></td><td><code>0x01</code>-<code>0x64</code></td><td><code>18bit</code></td><td>18-bit compression with Accelerometer</td></tr><tr><td><code>101</code>-<code>200</code></td><td><code>0x65</code>-<code>0xC8</code></td><td><code>19bit</code></td><td>19-bit compression without Accelerometer</td></tr><tr><td><code>201</code></td><td><code>0xC9</code></td><td><code>impedance</code></td><td>Impedance Channel 1</td></tr><tr><td><code>202</code></td><td><code>0xCA</code></td><td><code>impedance</code></td><td>Impedance Channel 2</td></tr><tr><td><code>203</code></td><td><code>0xCB</code></td><td><code>impedance</code></td><td>Impedance Channel 3</td></tr><tr><td><code>204</code></td><td><code>0xCC</code></td><td><code>impedance</code></td><td>Impedance Channel 4</td></tr><tr><td><code>205</code></td><td><code>0xCD</code></td><td><code>impedance</code></td><td>Impedance Channel Reference</td></tr><tr><td><code>206</code></td><td><code>0xCE</code></td><td><code>multi</code></td><td>Part of ASCII message</td></tr><tr><td><code>207</code></td><td><code>0xCF</code></td><td><code>multiStop</code></td><td>End of ASCII message</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="interpreting-the-eeg-data">Interpreting the EEG Data<a href="#interpreting-the-eeg-data" class="hash-link" aria-label="Direct link to Interpreting the EEG Data" title="Direct link to Interpreting the EEG Data">​</a></h2><p>Once you receive and parse and decompress the data packets, it is important to know how to interpret the data so that the EEG values are useful in a quantitative way. The critical piece of information is the scale factor.</p><p>For the scale factor, this is the multiplier that you use to convert the ExG values from “counts” (the integer number that you parse from the binary stream) into scientific units like “volts”. Scale factor is set and baked into the hardware.</p><p>The physical voltage range of the MCP3912 ADC in the Ganglion is -15686uV to 15686uV. A signed 24-bit integer can hold a range of values from -8388608 to 8388607 (MSB holds the sign bit). That means that the scale factor is:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">15686 uV / 8388607 = 0.001869917138805</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Accelerometer data must also be scaled before it can be correctly interpreted. The equation used to scale Accelerometer data is as follows (We assume 4Gs, so 2mG per digit):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Accelerometer Scale Factor = 0.032</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/OpenBCI/Documentation/edit/master/website/docs/Ganglion/08-Ganglion_Data_Format.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-08-17T19:38:49.000Z">Aug 17, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Ganglion/GanglionSpecs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ganglion Specs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Ganglion/GanglionSDK/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ganglion SDK</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#standard-bluetooth-4n-ble-setup" class="table-of-contents__link toc-highlight">Standard Bluetooth 4.n BLE Setup</a></li><li><a href="#startup" class="table-of-contents__link toc-highlight">Startup</a><ul><li><a href="#ganglion-board" class="table-of-contents__link toc-highlight"><strong>Ganglion Board</strong></a></li></ul></li><li><a href="#initiating-binary-transfer" class="table-of-contents__link toc-highlight">Initiating Binary Transfer</a></li><li><a href="#binary-format" class="table-of-contents__link toc-highlight">Binary Format</a><ul><li><a href="#sample-transmission" class="table-of-contents__link toc-highlight">Sample Transmission</a></li><li><a href="#19-bit-sample-transmission" class="table-of-contents__link toc-highlight">19-bit Sample Transmission</a></li><li><a href="#18bit-compression" class="table-of-contents__link toc-highlight">18bit Compression</a></li></ul></li><li><a href="#impedance-testing" class="table-of-contents__link toc-highlight">Impedance Testing</a></li><li><a href="#verbose-prints" class="table-of-contents__link toc-highlight">Verbose Prints</a></li><li><a href="#packet-id-cheat-sheet" class="table-of-contents__link toc-highlight">Packet ID Cheat Sheet</a></li><li><a href="#interpreting-the-eeg-data" class="table-of-contents__link toc-highlight">Interpreting the EEG Data</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/open-bci-gear-blue.png" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/open-bci-gear-blue.png" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2023 OpenBCI</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5811ae00.js"></script>
<script src="/assets/js/main.a5d650aa.js"></script>
</body>
</html>